/*
 * Created on $today.date ( Time $today.time )
 * Generated by $generator.name ( version $generator.version )
 */
package ${target.javaPackageFromFolder($SRC)};

import javax.sql.DataSource;

import ${ROOT_PKG}.dao.impl.spring.commons.SpringConfiguration;
import org.springframework.context.ApplicationContext;
//import org.springframework.context.support.ClassPathXmlApplicationContext;
import org.springframework.context.annotation.AnnotationConfigApplicationContext;

/**
 * DAO instance provider
 * 
 * @author Telosys Tools
 *
 */
public class DAOProvider {

	//private final static ApplicationContext applicationContext = new ClassPathXmlApplicationContext("spring-context.xml");
	private final static ApplicationContext applicationContext = new AnnotationConfigApplicationContext(SpringConfiguration.class);


	public final static <T> T getDAO(Class<T> clazz) {
		return applicationContext.getBean(clazz);
	}
	
	public final static DataSource getDataSource() {
		DataSourceHolder dataSourceHolder = applicationContext.getBean(DataSourceHolder.class);
		return dataSourceHolder.getDatasource();
	}
	
}
